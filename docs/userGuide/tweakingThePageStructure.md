{% set title = "Tweaking the Page Structure" %}
{% set filename = "tweakingThePageStructure" %}
<span id="title" class="d-none">{{ title }}</span>

<frontmatter>
  title: "User Guide: {{ title }}"
  layout: userGuide.md
  pageNav: 3
</frontmatter>

<span id="link" class="d-none">
<md>[_User Guide â†’ {{ title }}_]({{ filename }}.html)</md>
</span>

# Tweaking the Page Structure

<span class="lead" id="overview">**MarkBind offers several ways to easily tweak the overall structure of a page**, for example, using headers, footers, scripts, or stylesheets.</span>

<include src="syntax/frontmatter.md" />

<hr><!-- ======================================================================================================= -->

## Layouts

MarkBind layouts can be used to provide structure and content around pages easily.

To add a layout, first add any source file to the `_markbind/layouts` folder. Then, specify the layout the page will use using one of the following:
- the [`layout` property](siteJsonFile.md) of your site configuration file
- the [`layout` property](#front-matter) of the page front matter.

<box type="info" seamless>

If no layout is specified, the page defaults to the default layout (`default.md`).

When using `markbind init`, a default layout is provided in the `_markbind/layouts` folder.
</box>

Next, edit the layout file to your liking, and add the `{% raw %}{{ content }}{% endraw %}` variable where you want the page content to be rendered.

<div id="layout-code-snippet">


```html {highlight-lines="{{ highlightLines or "1-4,7[8:14],30[19:47],35-43[:],46[26:54],48,50[19:47],53,66-70" }}"}
{% raw %}<head-bottom>
  <!-- Use head-top and head-bottom tags to insert content into the HTML <head> tag -->
  <link rel="stylesheet" href="{{baseUrl}}/css/main.css">
</head-bottom>

<!-- Create a sticky header using the sticky attribute in a <header> tag -->
<header sticky>
  <navbar type="dark">
    <a slot="brand" href="{{baseUrl}}/index.html" title="Home" class="navbar-brand">
      <img src="{{baseUrl}}/images/logo-darkbackground.svg" height="20">
    </a>
    <li>
      <a highlight-on="exact" href="{{baseUrl}}/index.html" class="nav-link">HOME</a>
    </li>
    <li tags="environment--ug">
      <a highlight-on="sibling-or-child" href="{{baseUrl}}/userGuide/index.html" class="nav-link">USER GUIDE</a>
    </li>
    <li tags="environment--dg">
      <a highlight-on="sibling-or-child" href="{{baseUrl}}/devGuide/index.html" class="nav-link">DEVELOPER GUIDE</a>
    </li>
    <li slot="right">
      <form class="navbar-form">
        <searchbar :data="searchData" placeholder="Search" :on-hit="searchCallback" menu-align-right></searchbar>
      </form>
    </li>
  </navbar>
</header>

<div id="flex-body">
  <nav id="site-nav">
    <div class="site-nav-top">
      <div class="fw-bold mb-2" style="font-size: 1.25rem;">User Guide</div>
    </div>
    <div class="nav-component slim-scroll">
      <site-nav>
* [**Getting Started**]({{baseUrl}}/userGuide/gettingStarted.html)
  * **Authoring Contents** :expanded:
  * [Overview]({{baseUrl}}/userGuide/authoringContents.html)
  * [Adding Pages]({{baseUrl}}/userGuide/addingPages.html)
  * [MarkBind Syntax Overview]({{baseUrl}}/userGuide/markBindSyntaxOverview.html)
  * [Formatting Contents]({{baseUrl}}/userGuide/formattingContents.html)
  * [Using Components]({{baseUrl}}/userGuide/usingComponents.html)
      </site-nav>
    </div>
  </nav>
  <div id="content-wrapper">
    <!-- Insert the page's content into the layout using the {{ content }} variable -->
    {{ content }}
  </div>
  <nav id="page-nav">
    <div class="nav-component slim-scroll">
      <!-- Insert a page navigation menu using the <page-nav /> component -->
      <page-nav />
    </div>
  </nav>
</div>

<footer>
  <div class="text-center">
    <small>[Generated by {{MarkBind}} on {{timestamp}}]</small><br>
    <small>This site is powered by <a href="https://www.netlify.com/">Netlify</a>.</small>
  </div>
</footer>{% endraw %}

<!-- Insert content after the HTML <body> tag using the <script-bottom> tag -->
<script-bottom>
  <script>
    alert('Hi!')
  </script>
</script-bottom>
```

</div>

The rest of this section explains the other convenient features MarkBind provides in its layouts system, and references
the above code snippet.

<br>

### Inserting content into the `<head>`

**You can insert code into the `<head>` section of the generated HTML page**, for example, to add links to custom JavaScript or CSS files.

You may do so by inserting the HTML `<head>` content into `<head-top>` and `<head-bottom>` tags in the layout file, which are inserted at the top and bottom (after MarkBind's assets) of the `<head>` tag respectively.

The above example shows the use of the `<head-bottom>` tag to insert a custom stylesheet (`main.css`).

---

### Inserting scripts after the `<body>` tag

**You may also insert HTML code after the `<body>` section of the generated HTML page**. This is useful for including custom scripts.
Simply insert the code / `<script>` tags into a `<script-bottom>` tag.

The above example shows the use of the `<script-bottom>` tag to show a browser alert box with the message **'Hi!'**.

<box type=info seamless>

The scripts inserted here are processed last, after all of MarkBind's processing.

If you wish insert scripts at the bottom, before MarkBind's scripts, simply insert them into the bottom of the layout file.

</box>

---

### Sticking the header to the top

A sticky header can be implemented by simply adding the `sticky` attribute to a `<header>` element.

Using this attribute as opposed to setting `position: sticky` manually in your stylesheets comes with several conveniences:
- When scrolled to, page anchors will line up below the sticky header, and not hidden behind it.
- To preserve screen real estate, the header is hidden on devices with a width of less than 767px when the user scrolls down, and automatically re-shown when the page is scrolled up.

##### Offsetting elements with the header height

MarkBind also exposes the [css variable](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) `--sticky-header-height` which contains the height of your header.

It's primary intended use case is to offset secondary layout elements (e.g. your site navigation menu) so that they are not hidden behind the sticky header, as the reader scrolls down your page's main contents.

{{ icon_example }} Here's how it is used in the default layout's site and page navigation menus
```css
#site-nav,
#page-nav {
    position: sticky;
    /*
     Offset the top sticky position,
     such that the menus are not hidden behind the header.
     */
    top: var(--sticky-header-height);
    /*
     Limit the height of the menus so that the reader is able to scroll
     through the menus individually, without having to scroll to the bottom of the page.
     */
    max-height: calc(100vh - var(--sticky-header-height));
    ...
}
```

---

### Constructing a site navigation menu easily

<br>

<include src="syntax/siteNavigationMenus.md#content" />

---

### Constructing a page navigation menu

<br>

<include src="syntax/pageNavigationMenus.md#content">
<variable name="doNotShowPageNav">true</variable>
</include>

<hr><!-- ======================================================================================================= -->

<include src="plugins/tags.md">
<variable name="topHeadingLevel">##</variable>
</include>

{% from "njk/common.njk" import previous_next %}
{{ previous_next('usingHtmlJavaScriptCss', 'reusingContents') }}
